# AsciiArtify Concept

## Вступ

AsciiArtify - це стартап, який розробляє програмний продукт для перетворення зображень у ascii-art за допомогою Machine Learning.

## Вибір інструментів для локальної розробки

Ми розглянули три інструменти для розгортання локальних Kubernetes кластерів: Minikube, Kind та K3d.

### Minikube

Minikube - це інструмент для запуску кластерів Kubernetes на локальному комп'ютері. Це проєкт із відкритим вихідним кодом, підтримуваний спільнотою Kubernetes. За допомогою Minikube ви можете створити одновузловий кластер Kubernetes, який можна використовувати для тестування, розробки або навчання.

Дуже важлива відмінність minikube від усіх інших учасників полягає в тому, що він може розгортати кластери Kubernetes за допомогою одного з декількох драйверів. Ці драйвери реалізують спосіб запуску кластера Kubernetes на машині розроблення: або на віртуальній машині (наприклад, Hyper-V, KVM2, QEMU або інших), або в середовищі виконання контейнера (наприклад, за допомогою Docker або Podman). Отже, більш ніж імовірно, що minikube зможе запускати Kubernetes практично на будь-якій платформі, над якою працює розробник.  Minikube має уніфікований інтерфейс і є рішенням, що не залежить від платформи.
Великим плюсом minikube є його велика документація. Він містить не тільки технічні посилання, а й довгий список посібників для багатьох конкретних випадків використання і сценаріїв розгортання.
minikube дозволяє дуже легко і швидко створити новий кластер. Це всього лише одна команда з двох слів: minikube start. Це досить просто. Одна дуже важлива конфігурація - це версія Kubernetes API. Неважливо, яку версію minikube ви встановили на своєму локальному комп'ютері, ви завжди можете вибрати іншу версію API Kubernetes, відмінну від версії за замовчуванням. І це дуже просто та інтуїтивно зрозуміло. Інші основні операції з кластером аналогічні: зупинка кластера, його зупинка або видалення - це завжди лише одна команда.
У мене є тільки одне зауваження з приводу minikube: погані можливості автоматизації. Не існує файлу конфігурації, який я міг би просто ввести в команду для налаштування всього кластера, як зазначено.
Основні переваги Minikube полягають у тому, що він надзвичайно легкий, простий у встановленні та використанні.
Основним недоліком Minikube є те, що він призначений тільки для тестування. Це непрактичне рішення для запуску кластерів промислового рівня.

Підтримувані ОС: Linux, macOS, Windows.
Архітектури: AMD64, ARM, ARM64.
Автоматизація: Легко інтегрується з CI/CD системами.
Додаткові функції: Міграція створених VMs, інтеграція з іншими контецерами.

Переваги:
- простота встановлення та крос-платформенна сумісність: Minikube можна легко встановити на системи Windows, Mac та Linux, що дозволяє користувачам швидко створити локальний кластер Kubernetes. 
- спрощене вивчення Kubernetes: Minikube слугує чудовим навчальним інструментом для розуміння концепцій Kubernetes, оскільки він підтримує широкий спектр функцій Kubernetes, включаючи модулі, сервіси та розгортання.
- зручне локальне тестування додатків: Використовуючи Minikube, розробники можуть легко тестувати свої додатки локально, забезпечуючи безперебійну роботу перед розгортанням у виробничому середовищі.
- гнучкі варіанти розгортання: Minikube пропонує кілька варіантів розгортання, що дозволяє користувачам розгортати його як віртуальну машину (ВМ), контейнер або безпосередньо на "голій" інфраструктурі, виходячи з їхніх уподобань та вимог.

Недоліки:
- погані можливості автоматизації. Не існує файлу конфігурації, який я міг би просто ввести в команду для налаштування всього кластера, як зазначено.
- призначений тільки для тестування. Це непрактичне рішення для запуску кластерів промислового рівня.

### kind

kind - це інструмент для запуску локальних кластерів Kubernetes з використанням "вузлів" контейнерів Docker.
В першу чергу kind був розроблений для тестування самого Kubernetes, але може бути використаний для локальної розробки або CI.

Kind - це абревіатура від "Kubernetes в Docker", і він народився з ідеї запускати Kubernetes у середовищі виконання контейнера (замість віртуальної машини). Однак наразі minikube також віддає перевагу використанню Docker як варіанту розгортання, тому в цьому важливому моменті різниці між minikube і kind більше немає. Тим не менш, вони розмістили у своїй документації акуратну сторінку, що пояснює принципи виду та цільові варіанти використання. Я б сказав, що все зводиться до автоматизації.
Як і k3d, kind також надає можливість використовувати файли конфігурації, щоб створити локальний кластер Kubernetes на основі заданої конфігурації. Kind також надає можливості для включення експериментальних функцій Kubernetes і безлічі інших варіантів конфігурації.
Порівняно з мінікубом, де використання Podman вважається експериментальним, kind знаходиться на крок попереду і забезпечує надійну підтримку Podman. Команда проекту навіть доклала серйозних зусиль для запуску kind у безрутовому режимі. Для тих, для кого це може бути важливо, kind наразі є єдиним рішенням. Тим не менш, це, звичайно, має кілька обмежень. Kind поставляється з менш складним інтерфейсом командного рядка порівняно з minikube. Інтерфейс командного рядка також відмовляється від смайлів, що може бути перевагою.
kind дуже схожий на k3d у багатьох аспектах. Як і k3d і minikube, його можна встановити за допомогою популярних менеджерів пакетів, скриптів і як один виконуваний файл. Якщо ви вже знаєте, як працювати з CLI k3d, ви, ймовірно, дуже швидко звикнете до CLI. Варіанти практично ідентичні, як і обмеження.


Підтримувані ОС: Linux, macOS, Windows.
Архітектури: AMD64.
Автоматизація: Декларативна конфігурація кластера через YAML файл.
Додаткові функції: Швидке створення кластерів за допомогою Docker.

Переваги:
- легке створення кластерів. Використання контейнерів Docker у Kind дає змогу швидко та легко створювати кластери, що робить їх ідеальними для швидкого прототипування та тестування.
- універсальність: Kind підтримує кілька версій Kubernetes, що дає змогу розробникам точно емулювати різні виробничі середовища. Така адаптивність забезпечує сумісність із різними додатками та конфігураціями.
- декларативна конфігурація. Використовуючи маніфести Kubernetes, Kind просуває декларативний підхід до налаштування кластера. Це забезпечує узгодженість і спрощує контроль версій конфігурації, покращуючи спільну роботу команди.
- підтримка спільноти: Kind активно розвивається завдяки спільноті, що призводить до своєчасного вирішення проблем, частих оновлень та інтеграції нових функцій. Активна спільнота вселяє впевненість у своїй довгостроковій надійності.

Недоліки:
- обмежені виробничі можливості. Хоча Kind корисний для локальної розробки та тестування, йому можуть не вистачати деяких функцій і можливостей, необхідних у виробничих середовищах. 
- ресурсоємність: незважаючи на невелику вагу, одночасна робота кількох кластерів Kind споживає значні системні ресурси. 

## k3d

k3d - це легка оболонка для запуску k3s (мінімальний дистрибутив Kubernetes від Rancher Lab) у docker. k3d дозволяє легко створювати одно- та багатовузлові кластери k3s у докері, наприклад, для локальної розробки на Kubernetes.

k3d більш обмежений у плані розгортання на машині розробки. З самого початку k3d підтримував тільки середовище виконання локального контейнера для запуску кластера Kubernetes. Проте, завжди можна було керувати кількома окремими кластерами для розробки на одному хості.
Особливістю k3s є те, що він замінює деякі компоненти Kubernetes за замовчуванням, як-от etcd, менш масштабованими та менш ресурсоємними альтернативами (наприклад, SQLite). Крім того, вся система скомпільована в один дуже маленький двійковий виконуваний файл (менше 40 МБ), що також знижує вимоги до обсягу пам'яті. Базова система Kubernetes k3s спочатку була розроблена для середовищ Інтернету речей і периферійних обчислень. Я б сказав, що це робить його ідеальним і для середовищ розробки, оскільки ці невеликі вимоги до ресурсів ідеально підходять. 
Він поставляється з дуже хорошою документацією, як і minikube, яка також містить навчальні посібники для певних сценаріїв використання.
Однією великою перевагою, яку надає k3d (яка на даний момент відсутня у Minikube), є те, що k3d надає файл конфігурації кластера (починаючи з версії 4.0.0). Це дає змогу командам розробників зберігати конфігурацію кластера k3d у локальному файлі YAML, який може використовуватися всією командою. Цей файл містить конфігурацію практично всіх параметрів, що складають кластер, наприклад, кількості вузлів кластера, версії Kubernetes, локально співставлених портів, реєстрів, функцій і багато чого іншого. Цей файл дає змогу дуже легко розгорнути одну й ту саму конфігурацію кластера для всієї команди, не змушуючи розробника слідувати інструкціям або сценарію для налаштування локального кластера Kubernetes. Ви можете запустити кластер k3d create --config mycluster1.yaml, і все буде підготовлено, як зазначено. На мій погляд, це набагато простіше, ніж те, що ви зараз можете зробити за допомогою мінікуба.
Менше складності, менше команд CLI Оскільки k3d не забезпечує такої складності, як minikube, інтерфейс командного рядка набагато менш всеосяжний, але простий. Я б сказав, для розробників, які працюють з CLI, це плюс.
Порівняно з minikube, k3d не надає так багато функцій у командному рядку, але ви також можете реалізувати майже всі необхідні налаштування за допомогою k3d.
Якщо ви працюєте в середовищі з обмеженим пулом ресурсів або вам необхідний ще більш швидкий час запуску, вам безперечно варто розглянути K3s.

Підтримувані ОС: Linux, macOS.
Архітектури: AMD64, ARM64.
Автоматизація: Легко інтегрується з іншими інструментами через REST API.
Додаткові функції: Автоматичне створення Docker образів кластеру.

Переваги:
- легкий та ефективний: K3s має компактні розміри та мінімальні системні вимоги, що робить його ідеальним для середовищ з обмеженими ресурсами та сценаріїв периферійних обчислень.
- спрощене встановлення. Єдиний двійковий підхід K3s спрощує процес встановлення, даючи змогу розробникам швидко та легко налаштувати кластер Kubernetes.
- підтримує конфігурації з одним і кількома вузлами. На відміну від Minikube, K3s підтримує конфігурації кластера з одним і кількома вузлами, забезпечуючи більшу гнучкість для різних сценаріїв розробки та тестування.
- інтеграція Containerd: K3s використовуєContainerd як середовище виконання контейнера за замовчуванням, покращуючи його легкий дизайн і продуктивність.
- функції безпеки: K3s включає вбудоване шифрування TLS, управління доступом на основі ролей (RBAC) і зменшену кількість напрямків атак, забезпечуючи безпечне розгортання Kubernetes.
- активна спільнота: проєкт K3s має процвітаючу та інклюзивну спільноту, що призводить до швидкого розв'язання проблем, постійних поліпшень і додавання нових функцій.

Недоліки:
- обмежені виробничі можливості. Хоча K3s добре підходить для розробки і тестування, йому можуть не вистачати деяких розширених функцій, необхідних у великомасштабних виробничих середовищах.
- менша екосистема. Будучи відносно новим дистрибутивом Kubernetes, K3 може мати меншу екосистему, ніж наявні альтернативи.

## minikube vs kind vs k3d vs microk8s Benchmarks

Benchmarking machine specs:
-	OS: Debian 10
-	Processor: 2.30 GHz 8-Core Intel Xeon
-	Memory: 32 GB
-	Storage: SSD

(https://minikube.sigs.k8s.io/images/benchmarks/minikubeVsOthers/iterative.png)

(https://minikube.sigs.k8s.io/images/benchmarks/minikubeVsOthers/initial.png)

## Таблиця порівняння

| <!-- -->                     |    minikube                        |     kind                 |     k3s                              |
|:----------------------------:|:----------------------------------:|:------------------------:|:------------------------------------:|
| runtime                      | VM                                 | container                | native                               |
|supported architectures       | AMD64, ARM, ARM64                  | AMD64                    | AMD64, ARM, ARM64                    |
|supported container runtimes  | Docker,CRI-O,containerd,gvisor     | Docker                   | Docker, containerd                   |
|startup time initial/following| 5:19 / 3:15                        | 2:48 / 1:06              | 0:15 / 0:15                          |
|memory requirements           | 2GB                                |8GB (Windows, MacOS)      |512 MB                                |
|requires root?                | no                                 | no                       | yes (rootless is experimental)       |
|multi-cluster support         | yes                                | yes                      | no (can be achieved using containers)|
|multi-node support            | no                                 | yes                      | yes                                  |
|project page                  | https://minikube.sigs.k8s.io/docs/ | https://kind.sigs.k8s.io/| https://k3s.io/                      |